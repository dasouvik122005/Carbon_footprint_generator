<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>Carbon Footprint Analyzer — E-Commerce Sustainability Platform</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <i class="fas fa-leaf"></i>
        <span>EcoTrace</span>
      </div>
      <ul class="nav-menu">
        <li><a href="#calculator" class="nav-link active">Calculator</a></li>
        <li><a href="#analytics" class="nav-link">Analytics</a></li>
        <li><a href="#history" class="nav-link">History</a></li>
        <li><a href="#compare" class="nav-link">Compare</a></li>
      </ul>
      <div class="nav-actions">
        <button id="themeToggle" class="icon-btn" title="Toggle Dark Mode">
          <i class="fas fa-moon"></i>
        </button>
        <button id="exportBtn" class="icon-btn" title="Export Data">
          <i class="fas fa-download"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Carbon Footprint Analyzer</h1>
      <p class="hero-subtitle">Calculate, Track, and Reduce Your E-Commerce Environmental Impact</p>
      <div class="stats-grid">
        <div class="stat-card">
          <i class="fas fa-calculator"></i>
          <div class="stat-value" id="totalCalculations">0</div>
          <div class="stat-label">Calculations</div>
        </div>
        <div class="stat-card">
          <i class="fas fa-cloud"></i>
          <div class="stat-value" id="totalEmissions">0</div>
          <div class="stat-label">kg CO₂e Tracked</div>
        </div>
        <div class="stat-card">
          <i class="fas fa-tree"></i>
          <div class="stat-value" id="treeEquivalent">0</div>
          <div class="stat-label">Trees to Offset</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <main class="container">
    <!-- Browser Extension Section -->
    <section id="extension" class="section">
      <div class="section-header">
        <h2><i class="fas fa-puzzle-piece"></i> Browser Extension</h2>
        <p>Calculate carbon footprint while shopping online</p>
      </div>

      <div class="extension-container">
        <div class="extension-hero">
          <div class="extension-content">
            <h3>EcoTrace - Carbon Footprint Analyzer</h3>
            <p class="extension-description">
              Seamlessly integrate carbon footprint calculations into your online shopping experience. 
              Auto-detect products, track emissions, and make informed sustainable choices directly from your browser.
            </p>
            
            <div class="extension-features">
              <div class="feature-item">
                <i class="fas fa-magic"></i>
                <span>Auto-detect product details</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-chart-line"></i>
                <span>Real-time carbon calculations</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-history"></i>
                <span>Track purchase history</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-download"></i>
                <span>Export your data</span>
              </div>
            </div>

            <div class="extension-actions">
              <button class="btn-extension" onclick="downloadExtension()">
                <i class="fas fa-download"></i> Download Extension <span style="opacity: 0.8; font-size: 0.85rem;">(64 KB)</span>
              </button>
              <a href="extension/README.md" class="btn-extension-secondary" target="_blank">
                <i class="fas fa-book"></i> View Documentation
              </a>
            </div>

            <p class="extension-note">
              <i class="fas fa-info-circle"></i> 
              Compatible with Chrome, Edge, and other Chromium-based browsers • Free & Open Source
            </p>
          </div>

          <div class="extension-preview">
            <div class="browser-mockup">
              <div class="browser-bar">
                <div class="browser-dots">
                  <span></span><span></span><span></span>
                </div>
                <div class="browser-url">chrome://extensions</div>
              </div>
              <div class="browser-content">
                <div class="extension-card-preview">
                  <div class="ext-icon">
                    <i class="fas fa-leaf"></i>
                  </div>
                  <div class="ext-info">
                    <h4>EcoTrace</h4>
                    <p>Carbon Footprint Analyzer</p>
                    <div class="ext-stats">
                      <span><i class="fas fa-check-circle"></i> Active</span>
                      <span><i class="fas fa-shield-alt"></i> Secure</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Calculator Section -->
    <section id="calculator" class="section">
      <div class="section-header">
        <h2><i class="fas fa-calculator"></i> Carbon Calculator</h2>
        <p>Enter your order details to calculate environmental impact</p>
      </div>

      <div class="calculator-grid">
        <!-- Input Form -->
        <div class="card form-card">
          <h3 class="card-title">Order Details</h3>
          <form id="calcForm">
            <div class="form-grid">
              <div class="form-group">
                <label for="category">
                  <i class="fas fa-box"></i> Product Category
                </label>
                <select id="category" required>
                  <option value="">Select category...</option>
                </select>
              </div>

              <div class="form-group">
                <label for="weight">
                  <i class="fas fa-weight"></i> Item Weight (kg)
                </label>
                <input id="weight" type="number" step="0.01" min="0" value="0.5" required>
              </div>

              <div class="form-group">
                <label for="packaging">
                  <i class="fas fa-box-open"></i> Packaging Type
                </label>
                <select id="packaging" required>
                  <option value="">Select packaging...</option>
                </select>
              </div>

              <div class="form-group">
                <label for="distance">
                  <i class="fas fa-route"></i> Delivery Distance
                </label>
                <select id="distanceType" class="distance-selector">
                  <option value="custom">Custom Distance (km)</option>
                  <option value="local">Local (5-20 km)</option>
                  <option value="city">Same City (20-50 km)</option>
                  <option value="regional">Regional (50-200 km)</option>
                  <option value="national">National (200-1000 km)</option>
                  <option value="international">International (1000+ km)</option>
                </select>
                <input id="distance" type="number" step="1" min="0" value="10" required>
                <small class="distance-hint">Average: <span id="distanceHint">10 km</span></small>
              </div>

              <div class="form-group">
                <label for="transport">
                  <i class="fas fa-truck"></i> Transport Mode
                </label>
                <select id="transport" required>
                  <option value="">Select transport...</option>
                </select>
              </div>

              <div class="form-group">
                <label for="quantity">
                  <i class="fas fa-hashtag"></i> Quantity
                </label>
                <input id="quantity" type="number" step="1" min="1" value="1" required>
              </div>
            </div>

            <div class="form-options">
              <label class="checkbox-label">
                <input id="consolidate" type="checkbox">
                <span>Consolidated Delivery (Shared)</span>
              </label>
              <label class="checkbox-label">
                <input id="returnShipment" type="checkbox">
                <span>Include Return Shipment</span>
              </label>
              <label class="checkbox-label">
                <input id="ecoPackaging" type="checkbox">
                <span>Eco-friendly Packaging</span>
              </label>
            </div>

            <div class="form-group">
              <label for="orderName">
                <i class="fas fa-tag"></i> Order Name (Optional)
              </label>
              <input id="orderName" type="text" placeholder="e.g., Blue T-shirt from Store X">
            </div>

            <div class="form-actions">
              <button type="button" id="calcBtn" class="btn btn-primary">
                <i class="fas fa-calculator"></i> Calculate Impact
              </button>
              <button type="button" id="resetBtn" class="btn btn-secondary">
                <i class="fas fa-redo"></i> Reset
              </button>
            </div>
          </form>
        </div>

        <!-- Results Panel -->
        <div class="card result-card">
          <h3 class="card-title">Environmental Impact</h3>
          <div id="resultContent">
            <div class="empty-state">
              <i class="fas fa-chart-line"></i>
              <p>Calculate your first order to see results</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="section">
      <div class="section-header">
        <h2><i class="fas fa-chart-bar"></i> Analytics Dashboard</h2>
        <p>Visualize your environmental impact over time</p>
      </div>

      <div class="analytics-grid">
        <div class="card chart-card">
          <h3 class="card-title">Emission Breakdown</h3>
          <canvas id="breakdownChart"></canvas>
        </div>
        
        <div class="card chart-card">
          <h3 class="card-title">Emissions Over Time</h3>
          <canvas id="timelineChart"></canvas>
        </div>

        <div class="card chart-card">
          <h3 class="card-title">Category Distribution</h3>
          <canvas id="categoryChart"></canvas>
        </div>

        <div class="card chart-card">
          <h3 class="card-title">Transport Mode Impact</h3>
          <canvas id="transportChart"></canvas>
        </div>
      </div>
    </section>

    <!-- History Section -->
    <section id="history" class="section">
      <div class="section-header">
        <h2><i class="fas fa-history"></i> Calculation History</h2>
        <div class="header-actions">
          <button id="clearHistoryBtn" class="btn btn-danger">
            <i class="fas fa-trash"></i> Clear All
          </button>
        </div>
      </div>
      <div class="card">
        <div id="historyTable"></div>
      </div>
    </section>

    <!-- Comparison Section -->
    <section id="compare" class="section">
      <div class="section-header">
        <h2><i class="fas fa-balance-scale"></i> Compare Scenarios</h2>
        <p>Compare different delivery options and their environmental impact</p>
      </div>
      <div class="card">
        <div id="comparisonContent">
          <div class="comparison-grid" id="comparisonGrid"></div>
        </div>
      </div>
    </section>

    <!-- Recommendations Section -->
    <section class="section">
      <div class="card recommendations-card">
        <h3 class="card-title"><i class="fas fa-lightbulb"></i> Sustainability Recommendations</h3>
        <div id="recommendations" class="recommendations-grid"></div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h4><i class="fas fa-leaf"></i> EcoTrace</h4>
        <p>Professional carbon footprint analysis for e-commerce sustainability</p>
      </div>
      <div class="footer-section">
        <h4>Resources</h4>
        <ul>
          <li><a href="#"><i class="fas fa-book"></i> Documentation</a></li>
          <li><a href="#"><i class="fas fa-database"></i> Emission Factors</a></li>
          <li><a href="#"><i class="fas fa-chart-line"></i> Methodology</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>About</h4>
        <p class="footer-note">Advanced Carbon Footprint Analysis System — Professional E-Commerce Sustainability Platform</p>
        <p class="footer-note">Data sources: DEFRA, GLEC Framework, Ecoinvent Database</p>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
  <script src="extension-download.js"></script>
</body>
</html>